---
alwaysApply: true
---

# Core Script - –ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
`core_script.sh` - —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏ QNACF —Å–∏—Å—Ç–µ–º—ã. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```bash
./core_script.sh init
```
- –°–æ–∑–¥–∞—ë—Ç –ø–∞–ø–∫–∏: `questions/`, `answers/`, `backups/`
- –°–æ–∑–¥–∞—ë—Ç `state.json` —Å –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏–ª–∏ —Å–±—Ä–æ—Å–µ —Å–∏—Å—Ç–µ–º—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤
```bash
./core_script.sh create_question "–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞"
```
- –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å –≤ `questions/XXX_question.json`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω—É–º–µ—Ä—É–µ—Ç —Ñ–∞–π–ª—ã (001, 002, 003...)
- –û–±–Ω–æ–≤–ª—è–µ—Ç `state.json`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
```bash
./core_script.sh add_options QUESTION_ID
```
- –î–æ–±–∞–≤–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –∫ –≤–æ–ø—Ä–æ—Å—É
- –°–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –ø–ª—é—Å–∞–º–∏/–º–∏–Ω—É—Å–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
```bash
./core_script.sh update_answer QUESTION_ID OPTION_NUMBER "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"
```
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `answers/XXX_answer.json`
- OPTION_NUMBER - –Ω–æ–º–µ—Ä –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (1, 2, 3...)
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)

### –ë—ç–∫–∞–ø—ã
```bash
./core_script.sh backup
./core_script.sh clear_all  # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É
./core_script.sh clear_questions  # –û—á–∏—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å—ã
./core_script.sh auto_update_context  # –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
./core_script.sh update_context 85 65 "–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã" "–í—ã–±—Ä–∞–Ω –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥" "–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
```
- –°–æ–∑–¥–∞—ë—Ç –±—ç–∫–∞–ø –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ `backups/backup_TIMESTAMP/`
- –í–∫–ª—é—á–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–π –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

### –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
```bash
./core_script.sh status
```
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- ID —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –í–æ–ø—Ä–æ—Å (questions/XXX_question.json)
```json
{
  "id": "001",
  "question": "–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞",
  "options": [
    {
      "text": "–í–∞—Ä–∏–∞–Ω—Ç 1",
      "pros": ["–ø–ª—é—Å1", "–ø–ª—é—Å2"],
      "cons": ["–º–∏–Ω—É—Å1", "–º–∏–Ω—É—Å2"]
    }
  ],
  "preferred": 1,
  "reason": "–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ",
  "tags": ["tag1"],
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### –û—Ç–≤–µ—Ç (answers/XXX_answer.json)
```json
{
  "id": "001",
  "question_id": "001",
  "selected_option": 1,
  "custom_comment": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",
  "summary": "–†–µ–∑—é–º–µ –≤—ã–±–æ—Ä–∞",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### –°–æ—Å—Ç–æ—è–Ω–∏–µ (state.json)
```json
{
  "current_question_id": "001",
  "total_questions": "3",
  "answered_questions": "2",
  "status": "initialized",
  "last_updated": "2024-01-01T00:00:00Z",
  "session_id": "session_001"
}
```

## –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
```bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
./core_script.sh init

# 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
QUESTION_ID=$(./core_script.sh create_question "–ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –≤—ã–±—Ä–∞—Ç—å?")
echo "–°–æ–∑–¥–∞–Ω –≤–æ–ø—Ä–æ—Å: $QUESTION_ID"

# 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
./core_script.sh add_options $QUESTION_ID

# 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ API (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
# –ò—Å–ø–æ–ª—å–∑—É–π curl –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ POST /api/questions/XXX/options
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```bash
# –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
./core_script.sh status

# –°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤
ls questions/

# –°–ø–∏—Å–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤  
ls answers/

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
cat questions/001_question.json | jq .

# –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–≤–µ—Ç–∞
cat answers/001_answer.json | jq .
```

### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
```bash
# –ü–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
./core_script.sh backup
./core_script.sh clear_all  # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É
./core_script.sh clear_questions  # –û—á–∏—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å—ã
./core_script.sh auto_update_context  # –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
./core_script.sh update_context 85 65 "–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã" "–í—ã–±—Ä–∞–Ω –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥" "–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–∞–ø–æ–≤
ls backups/
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API

Core script —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É, –∞ Node.js —Å–µ—Ä–≤–µ—Ä —á–∏—Ç–∞–µ—Ç —ç—Ç–∏ —Ñ–∞–π–ª—ã:

1. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞** ‚Üí `core_script.sh create_question`
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** ‚Üí `core_script.sh add_options` + API –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞** ‚Üí API POST /api/answers (–≤—ã–∑—ã–≤–∞–µ—Ç core_script)
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö** ‚Üí API GET /api/questions, /api/answers

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤
```bash
# –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–∞–ø–æ–∫
ls -la questions/ answers/ backups/

# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ state.json
cat state.json | jq .

# –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–ø—Ä–æ—Å
ls -t questions/ | head -1 | xargs cat | jq .
```

### –õ–æ–≥–∏
```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Å –ª–æ–≥–∞–º–∏
node server.js

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl http://localhost:8820/api/status | jq .
```

## –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û: –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏

### ‚úÖ –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ:
- **–ß–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã**: `cat`, `jq`, `grep`, `find`, `ls`, `head`, `tail`
- **–ò—Å–∫–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é**: —á–µ—Ä–µ–∑ Cursor tooling, `grep`, `find`, `awk`, `sed`
- **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ**: `jq` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, `sort`, `uniq`
- **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞**: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `server.js`, `core_script.sh`, HTML, CSS, JS
- **–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É**: `tree`, `ls -la`, `stat`

### üîí –ß—Ç–æ –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ core_script.sh:
- **–°–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã**: –≤–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã, –±—ç–∫–∞–ø—ã, state.json
- **–£–¥–∞–ª—è—Ç—å —Ñ–∞–π–ª—ã**: `rm`, `rmdir` –≤ –ø–∞–ø–∫–∞—Ö questions/, answers/, backups/
- **–ò–∑–º–µ–Ω—è—Ç—å —Ñ–∞–π–ª—ã**: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤, —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–õ—é–±—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏** –≤ —Ä–∞–±–æ—á–∏–µ –ø–∞–ø–∫–∏ —Å–∏—Å—Ç–µ–º—ã QNACF

### üö´ –ß—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ:
- –ü—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã `rm`, `touch`, `echo >`, `mkdir` –≤ —Ä–∞–±–æ—á–∏—Ö –ø–∞–ø–∫–∞—Ö
- –ö–æ–º–∞–Ω–¥—ã –±–µ–∑ timeout, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∑–∞–≤–∏—Å–Ω—É—Ç—å
- –°–æ–∑–¥–∞–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤ –æ–±—Ö–æ–¥ core_script
- –ü—Ä—è–º–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON —Ñ–∞–π–ª–æ–≤ –≤–æ–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```bash
# ‚úÖ –ß—Ç–µ–Ω–∏–µ - –º–æ–∂–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ
cat questions/001_question.json | jq '.options'
grep -r "–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞" questions/
find . -name "*.json" -mtime -1

# ‚úÖ –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞ - –º–æ–∂–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ  
edit_file server.js
search_replace public/index.html

# üîí –ó–∞–ø–∏—Å—å - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ core_script
./core_script.sh create_question "–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å"
./core_script.sh create_next_question "–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞"
./core_script.sh update_answer 001 1 "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"
./core_script.sh backup
./core_script.sh clear_all  # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É
./core_script.sh clear_questions  # –û—á–∏—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å—ã
./core_script.sh auto_update_context  # –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
./core_script.sh update_context 85 65 "–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã" "–í—ã–±—Ä–∞–Ω –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥" "–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"

# üö´ –ó–∞–ø—Ä–µ—â–µ–Ω–æ
rm questions/001_question.json  # –ù–ï –î–ï–õ–ê–¢–¨!
echo '{"test": true}' > questions/test.json  # –ù–ï –î–ï–õ–ê–¢–¨!
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π `./core_script.sh` —Å –ø–æ–ª–Ω—ã–º –ø—É—Ç—ë–º
- ID –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–º–µ—é—Ç –≤–µ–¥—É—â–∏–µ –Ω—É–ª–∏ (001, 002, 003...)
- JSON —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- state.json –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- **–ù–ò–ö–û–ì–î–ê –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π/—É–¥–∞–ª—è–π/–∏–∑–º–µ–Ω—è–π —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é!**# Core Script - –ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
`core_script.sh` - —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏ QNACF —Å–∏—Å—Ç–µ–º—ã. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```bash
./core_script.sh init
```
- –°–æ–∑–¥–∞—ë—Ç –ø–∞–ø–∫–∏: `questions/`, `answers/`, `backups/`
- –°–æ–∑–¥–∞—ë—Ç `state.json` —Å –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏–ª–∏ —Å–±—Ä–æ—Å–µ —Å–∏—Å—Ç–µ–º—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤
```bash
./core_script.sh create_question "–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞"
```
- –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å –≤ `questions/XXX_question.json`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω—É–º–µ—Ä—É–µ—Ç —Ñ–∞–π–ª—ã (001, 002, 003...)
- –û–±–Ω–æ–≤–ª—è–µ—Ç `state.json`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
```bash
./core_script.sh add_options QUESTION_ID
```
- –î–æ–±–∞–≤–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –∫ –≤–æ–ø—Ä–æ—Å—É
- –°–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –ø–ª—é—Å–∞–º–∏/–º–∏–Ω—É—Å–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
```bash
./core_script.sh update_answer QUESTION_ID OPTION_NUMBER "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"
```
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `answers/XXX_answer.json`
- OPTION_NUMBER - –Ω–æ–º–µ—Ä –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (1, 2, 3...)
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)

### –ë—ç–∫–∞–ø—ã
```bash
./core_script.sh backup
./core_script.sh clear_all  # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É
./core_script.sh clear_questions  # –û—á–∏—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å—ã
./core_script.sh auto_update_context  # –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
./core_script.sh update_context 85 65 "–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã" "–í—ã–±—Ä–∞–Ω –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥" "–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
```
- –°–æ–∑–¥–∞—ë—Ç –±—ç–∫–∞–ø –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ `backups/backup_TIMESTAMP/`
- –í–∫–ª—é—á–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–π –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

### –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
```bash
./core_script.sh status
```
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- ID —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –í–æ–ø—Ä–æ—Å (questions/XXX_question.json)
```json
{
  "id": "001",
  "question": "–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞",
  "options": [
    {
      "text": "–í–∞—Ä–∏–∞–Ω—Ç 1",
      "pros": ["–ø–ª—é—Å1", "–ø–ª—é—Å2"],
      "cons": ["–º–∏–Ω—É—Å1", "–º–∏–Ω—É—Å2"]
    }
  ],
  "preferred": 1,
  "reason": "–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ",
  "tags": ["tag1"],
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### –û—Ç–≤–µ—Ç (answers/XXX_answer.json)
```json
{
  "id": "001",
  "question_id": "001",
  "selected_option": 1,
  "custom_comment": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",
  "summary": "–†–µ–∑—é–º–µ –≤—ã–±–æ—Ä–∞",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### –°–æ—Å—Ç–æ—è–Ω–∏–µ (state.json)
```json
{
  "current_question_id": "001",
  "total_questions": "3",
  "answered_questions": "2",
  "status": "initialized",
  "last_updated": "2024-01-01T00:00:00Z",
  "session_id": "session_001"
}
```

## –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
```bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
./core_script.sh init

# 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
QUESTION_ID=$(./core_script.sh create_question "–ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –≤—ã–±—Ä–∞—Ç—å?")
echo "–°–æ–∑–¥–∞–Ω –≤–æ–ø—Ä–æ—Å: $QUESTION_ID"

# 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
./core_script.sh add_options $QUESTION_ID

# 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ API (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
# –ò—Å–ø–æ–ª—å–∑—É–π curl –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ POST /api/questions/XXX/options
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```bash
# –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
./core_script.sh status

# –°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤
ls questions/

# –°–ø–∏—Å–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤  
ls answers/

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
cat questions/001_question.json | jq .

# –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–≤–µ—Ç–∞
cat answers/001_answer.json | jq .
```

### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
```bash
# –ü–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
./core_script.sh backup
./core_script.sh clear_all  # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É
./core_script.sh clear_questions  # –û—á–∏—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å—ã
./core_script.sh auto_update_context  # –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
./core_script.sh update_context 85 65 "–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã" "–í—ã–±—Ä–∞–Ω –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥" "–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–∞–ø–æ–≤
ls backups/
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API

Core script —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É, –∞ Node.js —Å–µ—Ä–≤–µ—Ä —á–∏—Ç–∞–µ—Ç —ç—Ç–∏ —Ñ–∞–π–ª—ã:

1. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞** ‚Üí `core_script.sh create_question`
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** ‚Üí `core_script.sh add_options` + API –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞** ‚Üí API POST /api/answers (–≤—ã–∑—ã–≤–∞–µ—Ç core_script)
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö** ‚Üí API GET /api/questions, /api/answers

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤
```bash
# –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–∞–ø–æ–∫
ls -la questions/ answers/ backups/

# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ state.json
cat state.json | jq .

# –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–ø—Ä–æ—Å
ls -t questions/ | head -1 | xargs cat | jq .
```

### –õ–æ–≥–∏
```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Å –ª–æ–≥–∞–º–∏
node server.js

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl http://localhost:8820/api/status | jq .
```

## –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û: –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏

### ‚úÖ –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ:
- **–ß–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã**: `cat`, `jq`, `grep`, `find`, `ls`, `head`, `tail`
- **–ò—Å–∫–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é**: —á–µ—Ä–µ–∑ Cursor tooling, `grep`, `find`, `awk`, `sed`
- **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ**: `jq` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, `sort`, `uniq`
- **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞**: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `server.js`, `core_script.sh`, HTML, CSS, JS
- **–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É**: `tree`, `ls -la`, `stat`

### üîí –ß—Ç–æ –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ core_script.sh:
- **–°–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã**: –≤–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã, –±—ç–∫–∞–ø—ã, state.json
- **–£–¥–∞–ª—è—Ç—å —Ñ–∞–π–ª—ã**: `rm`, `rmdir` –≤ –ø–∞–ø–∫–∞—Ö questions/, answers/, backups/
- **–ò–∑–º–µ–Ω—è—Ç—å —Ñ–∞–π–ª—ã**: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤, —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–õ—é–±—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏** –≤ —Ä–∞–±–æ—á–∏–µ –ø–∞–ø–∫–∏ —Å–∏—Å—Ç–µ–º—ã QNACF

### üö´ –ß—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ:
- –ü—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã `rm`, `touch`, `echo >`, `mkdir` –≤ —Ä–∞–±–æ—á–∏—Ö –ø–∞–ø–∫–∞—Ö
- –ö–æ–º–∞–Ω–¥—ã –±–µ–∑ timeout, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∑–∞–≤–∏—Å–Ω—É—Ç—å
- –°–æ–∑–¥–∞–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤ –æ–±—Ö–æ–¥ core_script
- –ü—Ä—è–º–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON —Ñ–∞–π–ª–æ–≤ –≤–æ–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```bash
# ‚úÖ –ß—Ç–µ–Ω–∏–µ - –º–æ–∂–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ
cat questions/001_question.json | jq '.options'
grep -r "–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞" questions/
find . -name "*.json" -mtime -1

# ‚úÖ –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞ - –º–æ–∂–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ  
edit_file server.js
search_replace public/index.html

# üîí –ó–∞–ø–∏—Å—å - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ core_script
./core_script.sh create_question "–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å"
./core_script.sh create_next_question "–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞"
./core_script.sh update_answer 001 1 "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"
./core_script.sh backup
./core_script.sh clear_all  # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É
./core_script.sh clear_questions  # –û—á–∏—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å—ã
./core_script.sh auto_update_context  # –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
./core_script.sh update_context 85 65 "–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã" "–í—ã–±—Ä–∞–Ω –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥" "–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"

# üö´ –ó–∞–ø—Ä–µ—â–µ–Ω–æ
rm questions/001_question.json  # –ù–ï –î–ï–õ–ê–¢–¨!
echo '{"test": true}' > questions/test.json  # –ù–ï –î–ï–õ–ê–¢–¨!
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π `./core_script.sh` —Å –ø–æ–ª–Ω—ã–º –ø—É—Ç—ë–º
- ID –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–º–µ—é—Ç –≤–µ–¥—É—â–∏–µ –Ω—É–ª–∏ (001, 002, 003...)
- JSON —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- state.json –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- **–ù–ò–ö–û–ì–î–ê –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π/—É–¥–∞–ª—è–π/–∏–∑–º–µ–Ω—è–π —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é!**