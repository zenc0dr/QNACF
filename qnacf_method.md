# QNACF - Метод фокусировки контекста через диалог

## Что такое QNACF?

**QNACF (Context Focusing)** — это методология превращения туманных, неструктурированных задач в чёткие, выполнимые чек-листы через структурированный диалог вопрос-ответ между человеком и ИИ-ассистентом.

## Основная идея

Люди часто не могут правильно сформулировать свои идеи и задачи, но у них есть интеллектуальные способности для принятия решений. QNACF использует эти способности через диалог, превращая хаос мыслей в структурированный план действий.

## Принципы работы

### 1. Структурированный диалог
- ИИ задаёт **по одному вопросу** с 2-5 вариантами ответов
- Каждый вариант содержит плюсы и минусы
- Один вариант помечен как предпочтительный с обоснованием
- Пользователь выбирает цифру + конкретизирует/направляет

### 2. Итеративный процесс
- Каждый вопрос приближает к полному пониманию задачи
- Возможность возврата к предыдущим вопросам
- Корректировка ответов по мере углубления понимания

### 3. Файловая основа
- Все вопросы и ответы сохраняются в структурированных JSON файлах
- Прозрачность процесса через файловую систему
- Возможность анализа и улучшения методологии

## Структура файлов

```
QNACF/
├── questions/           # Вопросы агента
│   ├── 001_question.json
│   └── 002_question.json
├── answers/            # Ответы пользователя
│   ├── 001_answer.json
│   └── 002_answer.json
├── backups/            # Бэкапы для безопасности
├── TODO/               # Итоговые чек-листы
│   ├── tasks/          # Чек-лист реализации
│   │   ├── mapping_checklist.md
│   │   ├── task_001.md
│   │   └── task_002.md
│   └── criteria/       # Чек-лист приёмки
│       ├── mapping_checklist.md
│       ├── criteria_001.md
│       └── criteria_002.md
├── state.json          # Текущее состояние
├── focused_checklist.md # Итоговый результат
└── qna_history.md      # Журнал диалога
```

## Формат JSON файлов

### Вопрос (questions/001_question.json)
```json
{
  "id": "001",
  "question": "Текст вопроса",
  "options": [
    {
      "text": "Вариант 1",
      "pros": ["плюс1", "плюс2"],
      "cons": ["минус1", "минус2"]
    },
    {
      "text": "Вариант 2", 
      "pros": ["плюс1"],
      "cons": ["минус1"]
    }
  ],
  "preferred": 1,
  "reason": "Обоснование предпочтительного варианта",
  "tags": ["tag1", "tag2"],
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### Ответ (answers/001_answer.json)
```json
{
  "id": "001",
  "question_id": "001",
  "selected_option": 1,
  "custom_comment": "Дополнительные уточнения пользователя",
  "summary": "Мини-резюме выбора с обоснованием",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

## Результат: Два типа чек-листов

### 1. Чек-лист эффективной реализации (tasks/)
Каждый пункт содержит:
- **Выполнимое действие** - конкретный шаг, который можно протестировать
- **Тест** - команды для проверки выполнения
- **Команда запуска** - как выполнить действие

### 2. Чек-лист бизнес-критериев приёмки (criteria/)
Каждый пункт в формате:
- **"Пользователь заходит в браузер и видит..."**
- **"Пользователь вводит текст туда-то, нажимает сюда-то"**
- **"Приложение запускается одним скриптом и работает в серверном режиме"**

## Промт для запуска QNACF

```
Начинаем QNACF (Context Focusing) диалог!

Твоя задача — задавать мне по одному вопросу с 2-5 вариантами ответов (пронумерованными 1, 2, 3...), где:
- Каждый вариант имеет плюсы и минусы
- Один вариант помечен как предпочтительный с объяснением почему
- Я отвечаю цифрой + конкретизирую/направляю
- Каждый вопрос приближает к полному пониманию задачи

Основные вопросы для решения:
1. Зачем это нужно?
2. Как это работает и почему работает?
3. Что мы должны знать конкретно?
4. Из каких базовых компонентов состоит приложение?
5. Как правильно декомпозировать на поддерживаемые части?
6. Как оформить в виде git репозитория?
7. Как сделать минималистичным по установке и поддержке?

В итоге получим два чек-листа:
- **Реализации** (выполнимые действия с тестами)
- **Приёмки** (бизнес-критерии в формате "Пользователь заходит и видит...")

Начинаем с первого вопроса!
```

## Правило для Cursor

Создать правило в настройках Cursor:

```json
{
  "name": "QNACF Context Focusing",
  "trigger": "QNACF",
  "description": "Запускает метод фокусировки контекста через структурированный диалог",
  "prompt": "Начинаем QNACF (Context Focusing) диалог! Твоя задача — задавать мне по одному вопросу с 2-5 вариантами ответов (пронумерованными 1, 2, 3...), где каждый вариант имеет плюсы и минусы, один помечен как предпочтительный с объяснением. Я отвечаю цифрой + конкретизирую. Каждый вопрос приближает к полному пониманию задачи. В итоге получим два чек-листа: Реализации (выполнимые действия с тестами) и Приёмки (бизнес-критерии). Начинаем с первого вопроса!",
  "files": {
    "create": [
      "qna_history.md",
      "TODO/tasks/mapping_checklist.md", 
      "TODO/criteria/mapping_checklist.md"
    ]
  }
}
```

## Ключевые преимущества

1. **Структурированность** - хаос превращается в порядок
2. **Прозрачность** - весь процесс виден в файлах
3. **Итеративность** - можно корректировать и улучшать
4. **Практичность** - результат сразу готов к реализации
5. **Масштабируемость** - накапливается опыт и улучшения

## Применение

QNACF подходит для:
- Планирования сложных проектов
- Декомпозиции больших задач
- Прояснения неясных требований
- Создания технических спецификаций
- Любых задач, где нужно "разложить по полочкам"

---

*QNACF — это не просто метод, это способ мышления о сложных задачах через структурированный диалог.*
